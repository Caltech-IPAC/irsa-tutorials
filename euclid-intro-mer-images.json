{"version":2,"kind":"Notebook","sha256":"bbca79cdb35c7030c7f1369f43635c9d1b4702749e823434298330c228c80e72","slug":"euclid-intro-mer-images","location":"/tutorials/euclid_access/1_Euclid_intro_MER_images.md","dependencies":[],"frontmatter":{"title":"Euclid Q1: MER mosaics","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.17.2"}},"content_includes_title":false,"authors":[{"id":"IRSA Scientists and Developers","name":"IRSA Scientists and Developers"}],"github":"https://github.com/Caltech-IPAC/irsa-tutorials/","subject":"IRSA Tutorials","keywords":["astronomy"],"settings":{"output_matplotlib_strings":"remove"},"numbering":{"title":{"offset":2}},"edit_url":"https://github.com/Caltech-IPAC/irsa-tutorials//blob/main/tutorials/euclid_access/1_Euclid_intro_MER_images.md","exports":[{"format":"md","filename":"1_Euclid_intro_MER_images.md","url":"/irsa-tutorials/build/1_Euclid_intro_MER_i-418c88078535a6ed4027f5b3471d3fa4.md"}]},"mdast":{"type":"root","children":[{"type":"block","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Learning Goals","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"OeCNL7QYWm"}],"identifier":"learning-goals","label":"Learning Goals","html_id":"learning-goals","implicit":true,"key":"Ns4iBeyiLw"}],"key":"v0gwCYuQ6U"},{"type":"block","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"By the end of this tutorial, you will:","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"fCTZ1F7Ms2"}],"key":"BDv9f0xWSP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":23,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"understand the basic characteristics of Euclid Q1 MER mosaics;","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"fZwYLplaU5"}],"key":"xejlTMo6bN"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"know how to download full MER mosaics;","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"ORnWQ2CLw5"}],"key":"KHdaaRG4uF"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"know how to make smaller cutouts of MER mosaics;","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"QzL42bnDNi"}],"key":"dBPPS0eSUB"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"know how to use matplotlib to plot a grid of cutouts;","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"yJrkA9K4cU"}],"key":"yzXGKdVDxb"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"know how to identify sources in the cutouts and make basic measurements.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"moExHXYrlz"}],"key":"QaCAGbKdPs"}],"key":"h8n9iand4T"}],"key":"MU62RDQAG5"},{"type":"block","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"Y34O29ycOk"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"M7PnysTRzv"}],"key":"tEuOOWndiT"},{"type":"block","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Euclid launched in July 2023 as a European Space Agency (ESA) mission with involvement by NASA.\nThe primary science goals of Euclid are to better understand the composition and evolution of the dark Universe.\nThe Euclid mission is providing space-based imaging and spectroscopy as well as supporting ground-based imaging to achieve these primary goals.\nThese data will be archived by multiple global repositories, including IRSA, where they will support transformational work in many areas of astrophysics.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"rMdlmMoLmS"}],"key":"umpG1Uxe25"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Euclid Quick Release 1 (Q1) consists of consists of ~30 TB of imaging, spectroscopy, and catalogs covering four non-contiguous fields:\nEuclid Deep Field North (22.9 sq deg), Euclid Deep Field Fornax (12.1 sq deg), Euclid Deep Field South (28.1 sq deg), and LDN1641.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"mQw8lgtSQb"}],"key":"JbZybaxtjA"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Among the data products included in the Q1 release are the Level 2 MER mosaics.\nThese are multiwavelength mosaics created from images taken with the Euclid instruments (VIS and NISP), as well as a variety of ground-based telescopes.\nAll of the mosaics have been created according to a uniform tiling on the sky, and mapped to a common pixel scale.\nThis notebook provides a quick introduction to accessing MER mosaics from IRSA.\nIf you have questions about it, please contact the ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"MRT0Vvd6QP"},{"type":"link","url":"https://irsa.ipac.caltech.edu/docs/help_desk.html","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"IRSA helpdesk","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"SK4hoeFkFc"}],"urlSource":"https://irsa.ipac.caltech.edu/docs/help_desk.html","key":"RDIPF8Pe1s"},{"type":"text","value":".","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"b2tRjapSSI"}],"key":"waoGP6zDhU"}],"key":"KJYPgb3nbl"},{"type":"block","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"Data volume","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"mgLqxpq8yd"}],"identifier":"data-volume","label":"Data volume","html_id":"data-volume","implicit":true,"key":"cofTjZ0MSV"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Each MER image is approximately 1.47 GB. Downloading can take some time.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"hQj1mJyqhq"}],"key":"yMxeUfGfQF"}],"key":"PJ4Ee7cRnW"},{"type":"block","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"XsAD2u4KHc"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"wsTVWwpIDn"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"f0mIwPuiaN"}],"key":"ktAC2YnieH"},{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"We rely on ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"eRcdCGX7jM"},{"type":"inlineCode","value":"astroquery","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"wotNMjNI3D"},{"type":"text","value":" and ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"C1X3J2GVFV"},{"type":"inlineCode","value":"sep","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"G9MV4w34Z1"},{"type":"text","value":" features that have been recently added, so please make sure you have the respective version v0.4.10 and v1.4 or newer installed.","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"wczqZjcHzq"}],"key":"U9Z61LLPaw"}],"key":"ngS8M7RF0p"}],"key":"fW0Qgc6kJv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Uncomment the next line to install dependencies if needed.\n# !pip install numpy 'astropy>=5.3' matplotlib 'astroquery>=0.4.10' 'sep>=1.4' fsspec","key":"p2pLaPs71r"},{"type":"output","id":"swT2keLDheZsORpzjXPD8","data":[],"key":"PvontbhHsF"}],"key":"wbQyW2tEPR"},{"type":"block","children":[],"key":"OKqn4ZLfdB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import re\n\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Ellipse\n\nfrom astropy.coordinates import SkyCoord\nfrom astropy.io import fits\nfrom astropy.nddata import Cutout2D\nfrom astropy.utils.data import download_file\nfrom astropy.visualization import ImageNormalize, PercentileInterval, AsinhStretch,  ZScaleInterval, SquaredStretch\nfrom astropy.wcs import WCS\nfrom astropy import units as u\n\nfrom astroquery.ipac.irsa import Irsa\nimport sep","key":"n9y3FWxO59"},{"type":"output","id":"hkrdZTEqsAqeKpbJGqBuu","data":[],"key":"yYsLQD69II"}],"key":"u0WAqyWcDq"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"1. Search for multiwavelength Euclid Q1 MER mosaics that cover the star HD 168151","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"FMwoSCBE42"}],"identifier":"id-1-search-for-multiwavelength-euclid-q1-mer-mosaics-that-cover-the-star-hd-168151","label":"1. Search for multiwavelength Euclid Q1 MER mosaics that cover the star HD 168151","html_id":"id-1-search-for-multiwavelength-euclid-q1-mer-mosaics-that-cover-the-star-hd-168151","implicit":true,"key":"Fx0QjzYydG"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"Below we set a search radius of 10 arcsec and convert the name “HD 168151” into coordinates.","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"UfkbtYiIs2"}],"key":"XpwSV1b9nr"}],"key":"x2FopKATfB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"search_radius = 10 * u.arcsec\ncoord = SkyCoord.from_name('HD 168151')","key":"ie40JUM7Uy"},{"type":"output","id":"aPgOIvH2Ql0frUkEixhox","data":[],"key":"Yw1KNgWLF1"}],"key":"EN5MVJkrYp"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Use IRSA’s Simple Image Access (SIA) API to search for all Euclid MER mosaics that overlap with the search region you have specified. We specify the euclid_DpdMerBksMosaic “collection” because it lists all of the multiwavelength MER mosaics, along with their associated catalogs.","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"cSACDWlFc0"}],"key":"Nvu52kbkWj"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"J1UFvrKYCY"}],"key":"yii5VJvxAX"},{"type":"paragraph","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"The IRSA SIA collections can be listed using using the ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"yqL1oB9LmT"},{"type":"inlineCode","value":"list_collections","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"Tr4Tl3EarZ"},{"type":"text","value":" method, we can filter on the ones containing “euclid” in the collection name:","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"GmFgUcAy3X"}],"key":"JabfMcoUZH"},{"type":"code","lang":"","value":"Irsa.list_collections(filter='euclid')","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"JFh4u7g1hp"}],"key":"B7GP8WNgZV"},{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"There are currently four collections available:","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"KdRGl032q5"}],"key":"Ub2vMzRT8C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":106,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"inlineCode","value":"'euclid_ero'","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"G24sgGrRU5"},{"type":"text","value":" -- the Early Release Observations, for more information see ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"XRZQDajUex"},{"type":"link","url":"https://irsa.ipac.caltech.edu/data/Euclid/docs/overview_ero.html","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Euclid ERO documentation at IRSA","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"FbOj8uUnlS"}],"urlSource":"https://irsa.ipac.caltech.edu/data/Euclid/docs/overview_ero.html","key":"UkvGpBidmP"},{"type":"text","value":".","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"Ucj9nmLAza"}],"key":"YKXhaNSO9N"},{"type":"listItem","spread":true,"position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"inlineCode","value":"'euclid_DpdMerBksMosaic'","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"EA804RV1zP"},{"type":"text","value":" -- This is the collection of interest for us in this notebook, it contains all the Q1 MER mosaic data. For more information on MER mosaics, see the “Introduction” above.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"IYckVw7B2q"}],"key":"LnV1rzaZqM"},{"type":"listItem","spread":true,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"inlineCode","value":"'euclid_DpdVisCalibratedQuadFrame'","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"ad0N3fdcon"},{"type":"text","value":" -- This collection contains the VIS instrument Calibrated images. Please note these data are not stacked, so there are four dither positions for every observation ID and two calibration frames.","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"sPk67sXkDE"}],"key":"ktHGsxo7jm"},{"type":"listItem","spread":true,"position":{"start":{"line":109,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"inlineCode","value":"'euclid_DpdNirCalibratedFrame'","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"QtuTcKPn4v"},{"type":"text","value":" -- This collection contains the NIR instrument Calibrated images. Please note these data are not stacked, so there are four dither positions for every observation ID.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"NNzPYCnGCS"}],"key":"HAThcZvYnO"}],"key":"NHnmIAI9ml"},{"type":"paragraph","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"For more information on the VIS and NIR calibrated frames, please read the ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"bKRMgwQ7WS"},{"type":"link","url":"https://irsa.ipac.caltech.edu/data/Euclid/docs/euclid_archive_at_irsa_user_guide.pdf","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"IRSA User Guide","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"QzkA7mxEng"}],"urlSource":"https://irsa.ipac.caltech.edu/data/Euclid/docs/euclid_archive_at_irsa_user_guide.pdf","key":"r5srMWDSul"}],"key":"F49YLND375"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"In this notebook, we will focus on downloading and visualizing the MER mosaic data.","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"j6iBHdIsaW"}],"key":"U4titmlohH"}],"key":"hrvz2ZWoa5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"image_table = Irsa.query_sia(pos=(coord, search_radius), collection='euclid_DpdMerBksMosaic')","key":"Q5FfuLG2Sr"},{"type":"output","id":"LbIAPadmaxhHJ-FiQ8XUH","data":[],"key":"vHoWVHY6pa"}],"key":"MaNqWyzYwz"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"This table lists all MER mosaic images available in this search position. These mosaics include the Euclid VIS, Y, J, H images, as well as ground-based telescopes which have been put on the same pixel scale. For more information, see the ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"qd5Rt8bhLk"},{"type":"link","url":"https://euclid.caltech.edu/page/euclid-faq-tech/","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Euclid documentation at IPAC","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"TxM8jf51Hy"}],"urlSource":"https://euclid.caltech.edu/page/euclid-faq-tech/","key":"qQ2cB6RGR0"},{"type":"text","value":".","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"goBnCW75zq"}],"key":"WcX4lmveqN"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Note that there are various image types are returned as well, we filter out the ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"xzzpP8GdxP"},{"type":"inlineCode","value":"science","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"ydi1wS34EW"},{"type":"text","value":" images from these:","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"CXIEN4NP9B"}],"key":"KcWqmOgDjD"}],"key":"rjGimilxVu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"science_images = image_table[image_table['dataproduct_subtype'] == 'science']\nscience_images","key":"HJ9blnIIBD"},{"type":"output","id":"j7_QwcaD5Hlb8A_wgzbYM","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<Table length=9>\n       s_ra              s_dec        facility_name   ... o_ucd  upload_row_id\n       deg                deg                         ...                     \n     float64            float64           object      ... object     int64    \n------------------ ----------------- ---------------- ... ------ -------------\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538       Pan-STARRS ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538             CFHT ...                    1\n273.74061163858784 64.50001388888538             CFHT ...                    1\n273.74061163858784 64.50001388888538 Subaru Telescope ...                    1\n273.74061163858784 64.50001388888538 Subaru Telescope ...                    1","content_type":"text/plain"},"text/html":{"content":"<div><i>Table length=9</i>\n<table id=\"table140634209089296\" class=\"table-striped table-bordered table-condensed\">\n<thead><tr><th>s_ra</th><th>s_dec</th><th>facility_name</th><th>instrument_name</th><th>dataproduct_subtype</th><th>calib_level</th><th>dataproduct_type</th><th>energy_bandpassname</th><th>energy_emband</th><th>obs_id</th><th>s_resolution</th><th>em_min</th><th>em_max</th><th>em_res_power</th><th>proposal_title</th><th>access_url</th><th>access_format</th><th>access_estsize</th><th>t_exptime</th><th>s_region</th><th>obs_collection</th><th>obs_intent</th><th>algorithm_name</th><th>facility_keywords</th><th>instrument_keywords</th><th>environment_photometric</th><th>proposal_id</th><th>proposal_pi</th><th>proposal_project</th><th>target_name</th><th>target_type</th><th>target_standard</th><th>target_moving</th><th>target_keywords</th><th>obs_release_date</th><th>s_xel1</th><th>s_xel2</th><th>s_pixel_scale</th><th>position_timedependent</th><th>t_min</th><th>t_max</th><th>t_resolution</th><th>t_xel</th><th>obs_publisher_did</th><th>s_fov</th><th>em_xel</th><th>pol_states</th><th>pol_xel</th><th>cloud_access</th><th>o_ucd</th><th>upload_row_id</th></tr></thead>\n<thead><tr><th>deg</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th>m</th><th>m</th><th></th><th></th><th></th><th></th><th>kbyte</th><th>s</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th></th><th>d</th><th>d</th><th>s</th><th></th><th></th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>\n<thead><tr><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int16</th><th>object</th><th>object</th><th>object</th><th>object</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>bool</th><th>object</th><th>object</th><th>int64</th><th>int64</th><th>float64</th><th>bool</th><th>float64</th><th>float64</th><th>float64</th><th>int64</th><th>object</th><th>float64</th><th>int64</th><th>object</th><th>int64</th><th>object</th><th>object</th><th>int64</th></tr></thead>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>Y</td><td>Infrared</td><td>102158277_NISP</td><td>0.0878</td><td>9.2e-07</td><td>1.146e-06</td><td>4.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/Y</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>J</td><td>Infrared</td><td>102158277_NISP</td><td>0.094</td><td>1.146e-06</td><td>1.372e-06</td><td>5.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/J</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>H</td><td>Infrared</td><td>102158277_NISP</td><td>0.1026</td><td>1.372e-06</td><td>2e-06</td><td>2.7</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/H</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Pan-STARRS</td><td>Pan-STARRS</td><td>science</td><td>3</td><td>image</td><td>I</td><td>Optical</td><td>102158277_PANSTARRS</td><td>1.11</td><td>6.78317e-07</td><td>8.30624e-07</td><td>5.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_PANSTARRS/I</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>VIS</td><td>science</td><td>3</td><td>image</td><td>VIS</td><td>Optical</td><td>102158277_VIS</td><td>0.16</td><td>5.5e-07</td><td>9e-07</td><td>2.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_VIS/VIS</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>U</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>3.14751e-07</td><td>4.01839e-07</td><td>4.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/U</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>R</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>5.61762e-07</td><td>7.22025e-07</td><td>4.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/R</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>G</td><td>Optical</td><td>102158277_WISHES</td><td>1.58</td><td>3.95422e-07</td><td>5.54729e-07</td><td>3.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/G</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>Z</td><td>Optical</td><td>102158277_WISHES</td><td>1.15</td><td>8.36385e-07</td><td>9.49057e-07</td><td>7.9</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/Z</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n</table></div>","content_type":"text/html"}}}],"key":"wCrpOyw4V1"}],"key":"Z5wy7919dj"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"2. Retrieve a Euclid Q1 MER mosaic image in the VIS bandpass","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"wVkmEKuK28"}],"identifier":"id-2-retrieve-a-euclid-q1-mer-mosaic-image-in-the-vis-bandpass","label":"2. Retrieve a Euclid Q1 MER mosaic image in the VIS bandpass","html_id":"id-2-retrieve-a-euclid-q1-mer-mosaic-image-in-the-vis-bandpass","implicit":true,"key":"xxV27fBype"}],"key":"emaSF0pQwQ"},{"type":"block","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Let’s first look at one example full image, the VIS image","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"YStCKCoFZd"}],"identifier":"lets-first-look-at-one-example-full-image-the-vis-image","label":"Let’s first look at one example full image, the VIS image","html_id":"lets-first-look-at-one-example-full-image-the-vis-image","implicit":true,"key":"aSH0CNHmzH"},{"type":"paragraph","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"text","value":"Note that ‘access_estsize’ is in units of kb","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"nZMwj7fPMg"}],"key":"OsvOIY6RPm"}],"key":"ui4r0n5UZH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filename = science_images[science_images['energy_bandpassname'] == 'VIS']['access_url'][0]\nfilesize = science_images[science_images['energy_bandpassname'] == 'VIS']['access_estsize'][0] / 1000000\nprint(filename)\n\nprint(f'Please note this image is {filesize} GB. With 230 Mbps internet download speed, it takes about 1 minute to download.')","key":"ZnF5tW1SEZ"},{"type":"output","id":"ah4dE9R8GxXHIOLhLD8JF","data":[{"output_type":"stream","name":"stdout","text":"https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits\nPlease note this image is 1.474566 GB. With 230 Mbps internet download speed, it takes about 1 minute to download.\n"}],"key":"lqhx3mzuxx"}],"key":"bxYba8209J"},{"type":"block","children":[],"key":"pzRhKwcsLZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"science_images","key":"gHI5sLuvjq"},{"type":"output","id":"MTvgU_rC5xqCEdyELiymU","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"<Table length=9>\n       s_ra              s_dec        facility_name   ... o_ucd  upload_row_id\n       deg                deg                         ...                     \n     float64            float64           object      ... object     int64    \n------------------ ----------------- ---------------- ... ------ -------------\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538       Pan-STARRS ...                    1\n273.74061163858784 64.50001388888538           Euclid ...                    1\n273.74061163858784 64.50001388888538             CFHT ...                    1\n273.74061163858784 64.50001388888538             CFHT ...                    1\n273.74061163858784 64.50001388888538 Subaru Telescope ...                    1\n273.74061163858784 64.50001388888538 Subaru Telescope ...                    1","content_type":"text/plain"},"text/html":{"content":"<div><i>Table length=9</i>\n<table id=\"table140634209089296\" class=\"table-striped table-bordered table-condensed\">\n<thead><tr><th>s_ra</th><th>s_dec</th><th>facility_name</th><th>instrument_name</th><th>dataproduct_subtype</th><th>calib_level</th><th>dataproduct_type</th><th>energy_bandpassname</th><th>energy_emband</th><th>obs_id</th><th>s_resolution</th><th>em_min</th><th>em_max</th><th>em_res_power</th><th>proposal_title</th><th>access_url</th><th>access_format</th><th>access_estsize</th><th>t_exptime</th><th>s_region</th><th>obs_collection</th><th>obs_intent</th><th>algorithm_name</th><th>facility_keywords</th><th>instrument_keywords</th><th>environment_photometric</th><th>proposal_id</th><th>proposal_pi</th><th>proposal_project</th><th>target_name</th><th>target_type</th><th>target_standard</th><th>target_moving</th><th>target_keywords</th><th>obs_release_date</th><th>s_xel1</th><th>s_xel2</th><th>s_pixel_scale</th><th>position_timedependent</th><th>t_min</th><th>t_max</th><th>t_resolution</th><th>t_xel</th><th>obs_publisher_did</th><th>s_fov</th><th>em_xel</th><th>pol_states</th><th>pol_xel</th><th>cloud_access</th><th>o_ucd</th><th>upload_row_id</th></tr></thead>\n<thead><tr><th>deg</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th>m</th><th>m</th><th></th><th></th><th></th><th></th><th>kbyte</th><th>s</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th></th><th>d</th><th>d</th><th>s</th><th></th><th></th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>\n<thead><tr><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int16</th><th>object</th><th>object</th><th>object</th><th>object</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>bool</th><th>object</th><th>object</th><th>int64</th><th>int64</th><th>float64</th><th>bool</th><th>float64</th><th>float64</th><th>float64</th><th>int64</th><th>object</th><th>float64</th><th>int64</th><th>object</th><th>int64</th><th>object</th><th>object</th><th>int64</th></tr></thead>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>Y</td><td>Infrared</td><td>102158277_NISP</td><td>0.0878</td><td>9.2e-07</td><td>1.146e-06</td><td>4.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/Y</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>J</td><td>Infrared</td><td>102158277_NISP</td><td>0.094</td><td>1.146e-06</td><td>1.372e-06</td><td>5.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/J</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>H</td><td>Infrared</td><td>102158277_NISP</td><td>0.1026</td><td>1.372e-06</td><td>2e-06</td><td>2.7</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/H</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Pan-STARRS</td><td>Pan-STARRS</td><td>science</td><td>3</td><td>image</td><td>I</td><td>Optical</td><td>102158277_PANSTARRS</td><td>1.11</td><td>6.78317e-07</td><td>8.30624e-07</td><td>5.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_PANSTARRS/I</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>VIS</td><td>science</td><td>3</td><td>image</td><td>VIS</td><td>Optical</td><td>102158277_VIS</td><td>0.16</td><td>5.5e-07</td><td>9e-07</td><td>2.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_VIS/VIS</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>U</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>3.14751e-07</td><td>4.01839e-07</td><td>4.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/U</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>R</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>5.61762e-07</td><td>7.22025e-07</td><td>4.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/R</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>G</td><td>Optical</td><td>102158277_WISHES</td><td>1.58</td><td>3.95422e-07</td><td>5.54729e-07</td><td>3.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/G</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>Z</td><td>Optical</td><td>102158277_WISHES</td><td>1.15</td><td>8.36385e-07</td><td>9.49057e-07</td><td>7.9</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/Z</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td></tr>\n</table></div>","content_type":"text/html"}}}],"key":"toqH6Ojx9U"}],"key":"wrvWs4xqRc"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Extract the tileID of this image from the filename","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"GNsXRrApyp"}],"identifier":"extract-the-tileid-of-this-image-from-the-filename","label":"Extract the tileID of this image from the filename","html_id":"extract-the-tileid-of-this-image-from-the-filename","implicit":true,"key":"NWieklgAEm"}],"key":"uDRTbvlte4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tileID = science_images[science_images['energy_bandpassname'] == 'VIS']['obs_id'][0][:9]\n\nprint(f'The MER tile ID for this object is : {tileID}')","key":"FQcqQytbx1"},{"type":"output","id":"DsYZnMwjhk-r1sO3Tfyoy","data":[{"output_type":"stream","name":"stdout","text":"The MER tile ID for this object is : 102158277\n"}],"key":"hFDUjBg8UT"}],"key":"Y72c3NEcrY"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"text","value":"Retrieve the MER image -- note this file is about 1.46 GB","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"Jkxze3n0Bg"}],"key":"f3s2vlT5AH"}],"key":"vIdv5O9SRZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fname = download_file(filename, cache=True)\nhdu_mer_irsa = fits.open(fname)\nprint(hdu_mer_irsa.info())\n\nheader_mer_irsa = hdu_mer_irsa[0].header","key":"SyZjLsdFro"},{"type":"output","id":"BvYlTOjbSQqM1UIAvraHv","data":[{"output_type":"stream","name":"stdout","text":"Filename: /home/runner/.astropy/cache/download/url/57396083c69b787af6e808156a46c70e/contents\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU      48   (19200, 19200)   float32   \n"},{"output_type":"stream","name":"stdout","text":"None\n"}],"key":"esGRaPg8ze"}],"key":"HuOKOCRNAq"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"text","value":"If you would like to save the MER mosaic to disk, uncomment the following cell.\nPlease also define a suitable download directory; by default it will be ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"v1SheoGIoe"},{"type":"inlineCode","value":"data","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"agxM9zpXvI"},{"type":"text","value":" at the same location as your notebook.","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"k7x1eQNqrT"}],"key":"PECArFeIsD"}],"key":"VoRvTGB5pS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# download_path = 'data'\n# hdu_mer_irsa.writeto(os.path.join(download_path, 'MER_image_VIS.fits'), overwrite=True)","key":"SMREoSlLKM"},{"type":"output","id":"VHvxeR8859SecndkKx5ng","data":[],"key":"LPjjYjtKaN"}],"key":"eaVOHZG7WU"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"Have a look at the header information for this image.","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"SeVoo0Mlbl"}],"key":"L2PuoncDql"}],"key":"tUwu5Sdhvh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"header_mer_irsa","key":"y3lXu0espA"},{"type":"output","id":"J-1kfFmPEQAfserReF51B","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"SIMPLE  =                    T / conforms to FITS standard                      \nBITPIX  =                  -32 / array data type                                \nNAXIS   =                    2 / number of array dimensions                     \nNAXIS1  =                19200                                                  \nNAXIS2  =                19200                                                  \nEQUINOX =        2000.00000000 / Mean equinox                                   \nRADESYS = 'ICRS    '           / Astrometric system                             \nCTYPE1  = 'RA---TAN'           / WCS projection type for this axis              \nCUNIT1  = 'deg     '           / Axis unit                                      \nCRVAL1  =   2.737406439000E+02 / World coordinate on this axis                  \nCRPIX1  =                 9600 / Reference pixel on this axis                   \nCD1_1   =  -2.777777777778E-05 / Linear projection matrix                       \nCD1_2   =   0.000000000000E+00 / Linear projection matrix                       \nCTYPE2  = 'DEC--TAN'           / WCS projection type for this axis              \nCUNIT2  = 'deg     '           / Axis unit                                      \nCRVAL2  =   6.450000000000E+01 / World coordinate on this axis                  \nCRPIX2  =                 9600 / Reference pixel on this axis                   \nCD2_1   =   0.000000000000E+00 / Linear projection matrix                       \nCD2_2   =   2.777777777778E-05 / Linear projection matrix                       \nCOMMENT                                                                         \nSOFTNAME= 'CT_SWarp'           / The software that processed those data         \nSOFTVERS= '10.2    '           / Version of the software                        \nSOFTDATE= '2024-03-18'         / Release date of the software                   \nSOFTAUTH= '2020-2024 Euclid Consortium' / Maintainer of the software            \nSOFTINST= 'Euclid Consortium https://www.euclid-ec.org/' / Institute            \nCOMMENT                                                                         \nAUTHOR  = 'ial     '           / Who ran the software                           \nORIGIN  = 'pr-02.sdcit-prod-ops.altecspace.it' / Where it was done              \nDATE    = '2024-10-25T12:31:02' / When it was started (GMT)                     \nCOMBINET= 'MEDIAN  '           / COMBINE_TYPE config parameter for CT_SWarp     \nCOMMENT                                                                         \nCOMMENT  Propagated FITS keywords                                               \nCOMMENT                                                                         \nCOMMENT  Axis-dependent config parameters                                       \nRESAMPT1= 'BILINEAR'           / RESAMPLING_TYPE config parameter               \nCENTERT1= 'ALL     '           / CENTER_TYPE config parameter                   \nPSCALET1= 'MEDIAN  '           / PIXELSCALE_TYPE config parameter               \nRESAMPT2= 'BILINEAR'           / RESAMPLING_TYPE config parameter               \nCENTERT2= 'ALL     '           / CENTER_TYPE config parameter                   \nPSCALET2= 'MEDIAN  '           / PIXELSCALE_TYPE config parameter               \nMAGZERO =                 24.6 / AB zeropoint                                   \nFILTER  = 'VIS     '           / the filter name                                \nPPOID   = 'MER_ProcessTile_EUCLID_2.0.2-QUICK_RELEASE-glibet-PLAN-000003-0VAPS&'\nCONTINUE  '1GC-20241024-174435-29-RETRY-241025112601&'                          \nCONTINUE  '' / pipeline PPOID                                                   \nDATASETR= 'Q1_R1   '           / pipeline DATASETRELEASE                        \nPIPDEFID= 'MER_ProcessTile_EUCLID_2.0.2' / the pipeline definition ID           \nPPLANID = 'MER_ProcessTile_EUCLID_2.0.2-QUICK_RELEASE-glibet-PLAN-000003' / the \nPSWNAME = 'MER_ProcessTile'    / the pipeline software name                     \nPSWREL  = '11.0.1  '           / the pipeline software release                  ","content_type":"text/plain"}}}],"key":"jzXoiUxYCW"}],"key":"n9XbBbR7kv"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"Lets extract just the primary image.","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"WnslK9pkiv"}],"key":"KKi2OifBMm"}],"key":"p91A2uzdAj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"im_mer_irsa = hdu_mer_irsa[0].data\n\nprint(im_mer_irsa.shape)","key":"oXyueLzvtw"},{"type":"output","id":"zf5mxFq1oPXQmWSGFaY8E","data":[{"output_type":"stream","name":"stdout","text":"(19200, 19200)\n"}],"key":"VPPB7HfHlJ"}],"key":"rT4SsqmbN0"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"Due to the large field of view of the MER mosaic, let’s cut out a smaller section (2\"x2\")of the MER mosaic to inspect the image","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"WyAOo8p2ZM"}],"key":"cupQ8deFCE"}],"key":"c3tTg9tngK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.imshow(im_mer_irsa[0:1200,0:1200], cmap='gray', origin='lower',\n           norm=ImageNormalize(im_mer_irsa[0:1200,0:1200], interval=PercentileInterval(99.9), stretch=AsinhStretch()))\ncolorbar = plt.colorbar()","key":"yKlaB0NY4X"},{"type":"output","id":"oISRkZ99sMbG_ruDLRgDb","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"f796f6f546815161f653d7b3768dd65c","path":"/irsa-tutorials/build/f796f6f546815161f653d7b3768dd65c.png"}}}],"key":"hf27oYn3bq"}],"key":"M9jDKWr6xM"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"Uncomment the code below to plot an image of the entire field of view of the MER mosaic.","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"VSdI10zbwp"}],"key":"wXEIBHddxL"}],"key":"vRzP10UMhx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# # Full MER mosaic, may take a minute for python to create this image\n# plt.imshow(im_mer_irsa, cmap='gray', origin='lower', norm=ImageNormalize(im_mer_irsa, interval=PercentileInterval(99.9), stretch=AsinhStretch()))\n# colorbar = plt.colorbar()","key":"RoqczhZgUG"},{"type":"output","id":"FJPFtPdylLBWbyI7wD8dQ","data":[],"key":"o3EHmmUzXj"}],"key":"vxJFXxpusQ"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"children":[{"type":"text","value":"3. Create multiwavelength Euclid Q1 MER cutouts of a region of interest","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"NT8A5GA6vt"}],"identifier":"id-3-create-multiwavelength-euclid-q1-mer-cutouts-of-a-region-of-interest","label":"3. Create multiwavelength Euclid Q1 MER cutouts of a region of interest","html_id":"id-3-create-multiwavelength-euclid-q1-mer-cutouts-of-a-region-of-interest","implicit":true,"key":"GYv6JBEB4x"}],"key":"eQ13o7UNZN"},{"type":"block","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"v34SkVcbY7"}],"key":"QAsus83E5d"},{"type":"paragraph","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"children":[{"type":"text","value":"We’d like to take a look at the multiwavelength images of our object, but the full MER mosaics are very large, so we will inspect the multiwavelength cutouts.","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"Hj4d1RhTjn"}],"key":"g5FClbeNZP"}],"key":"rZdEWHu597"}],"key":"t1KCDSSgEF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"urls = science_images['access_url']\n\nurls","key":"mLaYQboo9C"},{"type":"output","id":"aOr09xufcKnPraNvod0Yu","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"<MaskedColumn name='access_url' dtype='object' description='URI for the physical artifact' length=9>\n     https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits\n     https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits\n     https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits\nhttps://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits\n        https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits\n https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits\n https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits\n   https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits\n   https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits","content_type":"text/plain"},"text/html":{"content":"&lt;MaskedColumn name=&apos;access_url&apos; dtype=&apos;object&apos; description=&apos;URI for the physical artifact&apos; length=9&gt;\n<table>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits</td></tr>\n<tr><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits</td></tr>\n</table>","content_type":"text/html"}}}],"key":"GaGyQ4XDcV"}],"key":"tIwkkjbrw0"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"children":[{"type":"text","value":"Create an array with the instrument and filter name so we can add this to the plots.","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"sw8ITF5AZt"}],"key":"wZv5ToPMi9"}],"key":"wxnvmGhKBg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"science_images['filters'] = science_images['instrument_name'] + \"_\" + science_images['energy_bandpassname']\n\n# VIS_VIS appears in the filters, so update that filter to just say VIS\nscience_images['filters'][science_images['filters']== 'VIS_VIS'] = \"VIS\"\n\nscience_images['filters']","key":"IicWF4Hcsi"},{"type":"output","id":"UeP1cnE0uAZw7B28Kl7JS","data":[{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/plain":{"content":"<MaskedColumn name='filters' dtype='object' length=9>\n             NISP_Y\n             NISP_J\n             NISP_H\n       Pan-STARRS_I\n                VIS\n          MegaCam_U\n          MegaCam_R\nHyper Suprime-Cam_G\nHyper Suprime-Cam_Z","content_type":"text/plain"},"text/html":{"content":"&lt;MaskedColumn name=&apos;filters&apos; dtype=&apos;object&apos; length=9&gt;\n<table>\n<tr><td>NISP_Y</td></tr>\n<tr><td>NISP_J</td></tr>\n<tr><td>NISP_H</td></tr>\n<tr><td>Pan-STARRS_I</td></tr>\n<tr><td>VIS</td></tr>\n<tr><td>MegaCam_U</td></tr>\n<tr><td>MegaCam_R</td></tr>\n<tr><td>Hyper Suprime-Cam_G</td></tr>\n<tr><td>Hyper Suprime-Cam_Z</td></tr>\n</table>","content_type":"text/html"}}}],"key":"OqUSYPTF0a"}],"key":"uig6RrBMGu"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"The image above is very large, so let’s cut out a smaller image to inspect these data.","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"NnTUOzXTFv"}],"identifier":"the-image-above-is-very-large-so-lets-cut-out-a-smaller-image-to-inspect-these-data","label":"The image above is very large, so let’s cut out a smaller image to inspect these data.","html_id":"the-image-above-is-very-large-so-lets-cut-out-a-smaller-image-to-inspect-these-data","implicit":true,"key":"tllTUUkfEp"}],"key":"m1dVTKXi0b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"######################## User defined section ############################\n## How large do you want the image cutout to be?\nim_cutout = 1.0 * u.arcmin\n\n## What is the center of the cutout?\n## For now choosing a random location on the image\n## because the star itself is saturated\nra = 273.8667\ndec =  64.525\n\n## Bright star position\n# ra = 273.474451\n# dec = 64.397273\n\ncoords_cutout = SkyCoord(ra, dec, unit='deg', frame='icrs')\n\n##########################################################################\n\n## Iterate through each filter\n\ncutout_list = []\n\nfor url in urls:\n    ## Use fsspec to interact with the fits file without downloading the full file\n    hdu = fits.open(url, use_fsspec=True)\n    print(f\"Opened {url}\")\n\n    ## Store the header\n    header = hdu[0].header\n\n    ## Read in the cutout of the image that you want\n    cutout_data = Cutout2D(hdu[0].section, position=coords_cutout, size=im_cutout, wcs=WCS(hdu[0].header))\n\n    ## Close the file\n    # hdu.close()\n\n    ## Define a new fits file based on this smaller cutout, with accurate WCS based on the cutout size\n    new_hdu = fits.PrimaryHDU(data=cutout_data.data, header=header)\n    new_hdu.header.update(cutout_data.wcs.to_header())\n\n    ## Append the cutout to the list\n    cutout_list.append(new_hdu)\n\n## Combine all cutouts into a single HDUList and display information\nfinal_hdulist = fits.HDUList(cutout_list)\nfinal_hdulist.info()","key":"FS62YUNj1Y"},{"type":"output","id":"DOZsxyUbEdy4Q2aGgC3OO","data":[{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Opened https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits\n"},{"output_type":"stream","name":"stdout","text":"Filename: (No file associated with this HDUList)\nNo.    Name      Ver    Type      Cards   Dimensions   Format\n  0  PRIMARY       1 PrimaryHDU      57   (600, 600)   float32   \n  1  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  2  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  3  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  4  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  5  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  6  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  7  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n  8  PRIMARY       1 PrimaryHDU      56   (600, 600)   float32   \n"}],"key":"a5ScgYzNYO"}],"key":"tamVAhVcMr"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"3. Visualize multiwavelength Euclid Q1 MER cutouts","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"kHGEYpaHgy"}],"identifier":"id-3-visualize-multiwavelength-euclid-q1-mer-cutouts","label":"3. Visualize multiwavelength Euclid Q1 MER cutouts","html_id":"id-3-visualize-multiwavelength-euclid-q1-mer-cutouts","implicit":true,"key":"MjsW8AN0gh"},{"type":"paragraph","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"children":[{"type":"text","value":"We need to determine the number of images for the grid layout, and then plot each cutout.","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"MUOX49pD7j"}],"key":"SHii60cRi2"}],"key":"N4vOnFoLAf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"num_images = len(final_hdulist)\ncolumns = 4\nrows = -(-num_images // columns)\n\nfig, axes = plt.subplots(rows, columns, figsize=(4 * columns, 4 * rows), subplot_kw={'projection': WCS(final_hdulist[0].header)})\naxes = axes.flatten()\n\nfor idx, (ax, filt) in enumerate(zip(axes, science_images['filters'])):\n    image_data = final_hdulist[idx].data\n    norm = ImageNormalize(image_data, interval=PercentileInterval(99.9), stretch=AsinhStretch())\n    ax.imshow(image_data, cmap='gray', origin='lower', norm=norm)\n    ax.set_xlabel('RA')\n    ax.set_ylabel('Dec')\n    ax.text(0.05, 0.05, filt, color='white', fontsize=14, transform=ax.transAxes, va='bottom', ha='left')\n\n## Remove empty subplots if any\nfor ax in axes[num_images:]:\n    fig.delaxes(ax)\n\nplt.tight_layout()\nplt.show()","key":"XoivQt1qeL"},{"type":"output","id":"Oyju_R9eYaidJx4PtcTFo","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1600x1200 with 9 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"65526e02f5bdf990eacd7168f04f0ff7","path":"/irsa-tutorials/build/65526e02f5bdf990eacd7168f04f0ff7.png"}}}],"key":"CrPzZJZ37H"}],"key":"uxyWk8LRPL"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"text","value":"4. Use the Python package sep to identify and measure sources in the Euclid Q1 MER cutouts","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"QeuWT5obni"}],"identifier":"id-4-use-the-python-package-sep-to-identify-and-measure-sources-in-the-euclid-q1-mer-cutouts","label":"4. Use the Python package sep to identify and measure sources in the Euclid Q1 MER cutouts","html_id":"id-4-use-the-python-package-sep-to-identify-and-measure-sources-in-the-euclid-q1-mer-cutouts","implicit":true,"key":"UCBfxINMZ2"},{"type":"paragraph","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"text","value":"First we list all the filters so you can choose which cutout you want to extract sources on. We will choose VIS.","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"MPEhjPYA79"}],"key":"xqm1ze2Sh9"}],"key":"GG0fbyjSC6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filt_index = np.where(science_images['filters'] == 'VIS')[0][0]\n\nimg1 = final_hdulist[filt_index].data","key":"fDwOUv36EI"},{"type":"output","id":"ikCEqva5qX7tEPXTBQh-J","data":[],"key":"SbtHAGsUOQ"}],"key":"dThA3Ys1ps"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Extract some sources from the cutout using sep (python package based on source extractor)","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"w9ik8tDRCo"}],"identifier":"extract-some-sources-from-the-cutout-using-sep-python-package-based-on-source-extractor","label":"Extract some sources from the cutout using sep (python package based on source extractor)","html_id":"extract-some-sources-from-the-cutout-using-sep-python-package-based-on-source-extractor","implicit":true,"key":"C0Qj2EGBuN"},{"type":"paragraph","position":{"start":{"line":320,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Following the sep tutorial, first create a background for the cutout\n","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"at1gJV4Try"},{"type":"link","url":"https://sep.readthedocs.io/en/stable/tutorial.html","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"https://​sep​.readthedocs​.io​/en​/stable​/tutorial​.html","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"hhZEcxiSsg"}],"urlSource":"https://sep.readthedocs.io/en/stable/tutorial.html","key":"TBK5H74Kdf"}],"key":"RmqJ5Ma2IF"},{"type":"paragraph","position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"children":[{"type":"text","value":"Need to do some initial steps (swap byte order) with the cutout to prevent sep from crashing. Then create a background model with sep.","position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"key":"SNTuibrrfo"}],"key":"xVU75s89H2"}],"key":"xVriJDdIHF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img2 = img1.byteswap().view(img1.dtype.newbyteorder())\nc_contiguous_data = np.array(img2, dtype=np.float32)\n\nbkg = sep.Background(c_contiguous_data)\n\nbkg_image = bkg.back()\n\nplt.imshow(bkg_image, interpolation='nearest', cmap='gray', origin='lower')\nplt.colorbar()","key":"IlMGE1yfVj"},{"type":"output","id":"V5VV1OL1jgS2lFQgxqYNb","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"4208c52078fe0cd3e9da9b11c828bbef","path":"/irsa-tutorials/build/4208c52078fe0cd3e9da9b11c828bbef.png"}}}],"key":"oK6UqTlJSb"}],"key":"VhXYJ5Elf6"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"children":[{"type":"text","value":"Inspect the background rms as well","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"i0zgdR9sTV"}],"identifier":"inspect-the-background-rms-as-well","label":"Inspect the background rms as well","html_id":"inspect-the-background-rms-as-well","implicit":true,"key":"DS1xyXE9gw"}],"key":"ALfEeHycLz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"bkg_rms = bkg.rms()\n\nplt.imshow(bkg_rms, interpolation='nearest', cmap='gray', origin='lower')\nplt.colorbar();","key":"fnKwvqDq1V"},{"type":"output","id":"VBV-ZfdR06wBZlNi9sjG-","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"ee8c1c1ee8046c6a2514360dcad5296a","path":"/irsa-tutorials/build/ee8c1c1ee8046c6a2514360dcad5296a.png"}}}],"key":"VMGfGzx3pl"}],"key":"JtVNmLXMuI"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"children":[{"type":"text","value":"Subtract the background","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"key":"SB3PNuMNbl"}],"identifier":"subtract-the-background","label":"Subtract the background","html_id":"subtract-the-background","implicit":true,"key":"y46kUDwYiZ"}],"key":"zEog3aNRm5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"data_sub = img2 - bkg","key":"aQOaXuvFWe"},{"type":"output","id":"T3G_CPV6PlmVoyrrieh4L","data":[],"key":"rUEyik8dk0"}],"key":"aZQ8Fw6myz"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"text","value":"Source extraction via sep","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"cplCyylI38"}],"identifier":"source-extraction-via-sep","label":"Source extraction via sep","html_id":"source-extraction-via-sep","implicit":true,"key":"ZaxdhlIB93"}],"key":"qf9Z73QLGu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"######################## User defined section ############################\n\n## Sigma threshold to consider this a detection above the global RMS\nthreshold= 3\n\n## Minimum number of pixels required for an object. Default is 5.\nminarea_0=2\n\n## Minimum contrast ratio used for object deblending. Default is 0.005. To entirely disable deblending, set to 1.0.\ndeblend_cont_0= 0.005\n\nflux_threshold= 0.01\n##########################################################################\n\n\nsources = sep.extract(data_sub, threshold, err=bkg.globalrms, minarea=minarea_0, deblend_cont=deblend_cont_0)\nsources_thr = sources[sources['flux'] > flux_threshold]\nprint(\"Found\", len(sources_thr), \"objects above flux threshold\")","key":"rsSMSYL1xV"},{"type":"output","id":"njEO1NJe7Rb6NNiJgnMam","data":[{"output_type":"stream","name":"stdout","text":"Found 114 objects above flux threshold\n"}],"key":"RrNYyGtheP"}],"key":"kCCSlvZkAq"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":375,"column":1},"end":{"line":375,"column":1}},"children":[{"type":"text","value":"Lets have a look at the objects that were detected with sep in the cutout","position":{"start":{"line":375,"column":1},"end":{"line":375,"column":1}},"key":"SKfh4i9cIg"}],"identifier":"lets-have-a-look-at-the-objects-that-were-detected-with-sep-in-the-cutout","label":"Lets have a look at the objects that were detected with sep in the cutout","html_id":"lets-have-a-look-at-the-objects-that-were-detected-with-sep-in-the-cutout","implicit":true,"key":"jvRyZDGjb2"},{"type":"paragraph","position":{"start":{"line":378,"column":1},"end":{"line":378,"column":1}},"children":[{"type":"text","value":"We plot the VIS cutout with the sources detected overplotted with a red ellipse","position":{"start":{"line":378,"column":1},"end":{"line":378,"column":1}},"key":"m1QXzGm1y0"}],"key":"AXWFbrjPW2"}],"key":"bVF7dW0pIl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots()\nm, s = np.mean(data_sub), np.std(data_sub)\nim = ax.imshow(data_sub, cmap='gray', origin='lower', norm=ImageNormalize(img2, interval=ZScaleInterval(), stretch=SquaredStretch()))\n\n## Plot an ellipse for each object detected with sep\n\nfor i in range(len(sources_thr)):\n    e = Ellipse(xy=(sources_thr['x'][i], sources_thr['y'][i]),\n                width=6*sources_thr['a'][i],\n                height=6*sources_thr['b'][i],\n                angle=sources_thr['theta'][i] * 180. / np.pi)\n    e.set_facecolor('none')\n    e.set_edgecolor('red')\n    ax.add_artist(e)","key":"oh0qIAnHQY"},{"type":"output","id":"ZGtJQbEPiYNOQd3-P7vZq","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"44f004f8326595a7a344e13492d57a0d","path":"/irsa-tutorials/build/44f004f8326595a7a344e13492d57a0d.png"}}}],"key":"kYrYYV5M5c"}],"key":"puFKj5CHMk"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":397,"column":1},"end":{"line":397,"column":1}},"children":[{"type":"text","value":"About this Notebook","position":{"start":{"line":397,"column":1},"end":{"line":397,"column":1}},"key":"S9X2D8LUjg"}],"identifier":"about-this-notebook","label":"About this Notebook","html_id":"about-this-notebook","implicit":true,"key":"DQyaZ5SM8V"},{"type":"paragraph","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"text","value":"Author","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"key":"OwXMTcVlb5"}],"key":"RzZwDclTxN"},{"type":"text","value":": Tiffany Meshkat, Anahita Alavi, Anastasia Laity, Andreas Faisst, Brigitta Sipőcz, Dan Masters, Harry Teplitz, Jaladh Singhal, Shoubaneh Hemmati, Vandana Desai","position":{"start":{"line":399,"column":1},"end":{"line":399,"column":1}},"key":"Nz3kNYnwrF"}],"key":"IucFsRcC3T"},{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Updated","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"zdXM3Ym6z5"}],"key":"sLYCRMHsr5"},{"type":"text","value":": 2025-03-31","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"qOdeUc73lq"}],"key":"AXsAS9Eeeu"},{"type":"paragraph","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"strong","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"Contact:","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"zCxGYW5JcG"}],"key":"T5i3OOxZvl"},{"type":"text","value":" ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"gWQCO4fc9p"},{"type":"link","url":"https://irsa.ipac.caltech.edu/docs/help_desk.html","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"the IRSA Helpdesk","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"zUSTrWFPrl"}],"urlSource":"https://irsa.ipac.caltech.edu/docs/help_desk.html","key":"oe06yAPfwL"},{"type":"text","value":" with questions or reporting problems.","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"wZVHtSeTfD"}],"key":"WS5uVQk5Ao"}],"key":"uSRolzqc0z"}],"key":"iZLszzjbRh"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Exploring Star Clusters in the Euclid ERO Data","url":"/euclid-ero","group":"Euclid Early Release Observations"},"next":{"title":"Euclid Q1: MER catalogs","url":"/euclid-intro-mer-catalog","group":"Euclid Quick Release 1"}}},"domain":"http://localhost:3000"}