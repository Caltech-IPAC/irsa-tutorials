{"version":3,"kind":"Notebook","sha256":"e8310dfc1bc0fbb36a32de2b6e1419d0a98ece34e2c85bbf6079c1425aa383d6","slug":"euclid-intro-spe-catalog","location":"/tutorials/euclid_access/5_Euclid_intro_SPE_catalog.md","dependencies":[],"frontmatter":{"title":"Euclid Q1: SPE Catalogs","short_title":"SPE Catalogs","kernelspec":{"name":"python3","display_name":"python3","language":"python"},"jupytext":{"text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.18.1"}},"content_includes_title":false,"authors":[{"id":"IRSA Scientists and Developers","name":"IRSA Scientists and Developers"}],"github":"https://github.com/Caltech-IPAC/irsa-tutorials/","subject":"IRSA Tutorials","keywords":["astronomy"],"settings":{"output_matplotlib_strings":"remove"},"numbering":{"title":{"offset":1}},"source_url":"https://github.com/Caltech-IPAC/irsa-tutorials//blob/main/tutorials/euclid_access/5_Euclid_intro_SPE_catalog.md","edit_url":"https://github.com/Caltech-IPAC/irsa-tutorials//edit/main/tutorials/euclid_access/5_Euclid_intro_SPE_catalog.md","exports":[{"format":"md","filename":"5_Euclid_intro_SPE_catalog.md","url":"/irsa-tutorials/build/5_Euclid_intro_SPE_c-8cf8f5d481948ea1dc6c9dbddc547476.md"}]},"mdast":{"type":"root","children":[{"type":"block","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Learning Goals","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"aByMEFlKYc"}],"identifier":"learning-goals","label":"Learning Goals","html_id":"learning-goals","implicit":true,"key":"kI2WLMdc7o"}],"key":"TN6j2ImS1G"},{"type":"block","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"By the end of this tutorial, you will:","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Mspbf9UG94"}],"key":"iysXDxhkkL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":24,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Understand the basic characteristics of Euclid Q1 SPE catalogs.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"gWbkvVpyEo"}],"key":"g99OE0latt"}],"key":"CZ4wRvaLHE"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Understand what SPE catalogs are available and how to view the columns in those catalogs.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"tkTX4bZJ7Y"}],"key":"U5WJzIz9QS"}],"key":"nTzIAPQGSN"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How to query with ADQL in the SPE lines catalog to find strong H-alpha detections.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"E50CNPdvv6"}],"key":"b4M5G9QJwH"}],"key":"th8yMZyQek"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How to make a plot the detected line features over the 1D spectra.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"DXr1nvsSKj"}],"key":"YpKwEgVoD6"}],"key":"KVmTq7aKfq"}],"key":"P8pyqzJy5h"}],"key":"IcaEFqJzEU"},{"type":"block","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"aZqbQMOczo"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"UFvu3NFMJz"}],"key":"BUYtM8P0wi"},{"type":"block","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Euclid launched in July 2023 as a European Space Agency (ESA) mission with involvement by NASA.\nThe primary science goals of Euclid are to better understand the composition and evolution of the dark Universe.\nThe Euclid mission is providing space-based imaging and spectroscopy as well as supporting ground-based imaging to achieve these primary goals.\nThese data will be archived by multiple global repositories, including IRSA, where they will support transformational work in many areas of astrophysics.","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ysamfChsCI"}],"key":"UtgNZZh8Bs"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Euclid Quick Release 1 (Q1) consists of consists of ~30 TB of imaging, spectroscopy, and catalogs covering four non-contiguous fields:\nEuclid Deep Field North (22.9 sq deg), Euclid Deep Field Fornax (12.1 sq deg), Euclid Deep Field South (28.1 sq deg), and LDN1641.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"oyq3p6LWQA"}],"key":"OUnqv5LnBz"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"Among the data products included in the Q1 release are multiple catalogs created by the SPE Processing Function.\nThis notebook provides an introduction to these SPE catalogs.\nIf you have questions about this notebook, please contact the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"RAh0Dfhkyp"},{"type":"link","url":"https://irsa.ipac.caltech.edu/docs/help_desk.html","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"IRSA helpdesk","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"THl3rTaUEi"}],"urlSource":"https://irsa.ipac.caltech.edu/docs/help_desk.html","key":"wn3AOX2tzA"},{"type":"text","value":".","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"M4lKuGkFgZ"}],"key":"tXULxSrZd7"}],"key":"OsEJiA3gcZ"},{"type":"block","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"KvMo647Hty"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"ITMBbRDyzP"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"tkiezz0ehM"}],"key":"LsGWRdlAwk"},{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"We rely on ","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"UkWnlBRG3D"},{"type":"inlineCode","value":"astroquery","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"yPWsVuSHSi"},{"type":"text","value":" features that have been recently added, so please make sure you have version v0.4.10 or newer installed.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"xkmYSXRnJK"}],"key":"ooEDvFDoyO"}],"key":"RYLUfX0ner"}],"key":"mxRYR1ogaA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Uncomment the next line to install dependencies if needed\n# %pip install matplotlib astropy 'astroquery>=0.4.10'","key":"oPaVR5mCsm"},{"type":"outputs","id":"ap7A1bcABznPxbDWwpru8","children":[],"key":"WVv4ym8To8"}],"key":"yzLm27m3X4"},{"type":"block","children":[],"key":"USStpfonHM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport numpy as np\n\nfrom astropy.coordinates import SkyCoord\nfrom astropy.io import fits\nfrom astropy.table import QTable\nfrom astropy import units as u\nfrom astropy.utils.data import download_file\nfrom astropy.utils import data\nfrom astropy.visualization import ImageNormalize, PercentileInterval, AsinhStretch, quantity_support\n\nfrom astroquery.ipac.irsa import Irsa\n\n# Increase Astropy’s default network timeout (in seconds) for remote name resolution and data access\ndata.conf.remote_timeout = 60","key":"h7U1yVzWQN"},{"type":"outputs","id":"sOHqnh9aDcMxh6RnvBkex","children":[],"key":"FtSEgUpDsb"}],"key":"YOwDXGQgof"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"1. Find the MER Tile ID that corresponds to a given RA and Dec","position":{"start":{"line":79,"column":1},"end":{"line":79,"column":1}},"key":"r162vEUR5H"}],"identifier":"id-1-find-the-mer-tile-id-that-corresponds-to-a-given-ra-and-dec","label":"1. Find the MER Tile ID that corresponds to a given RA and Dec","html_id":"id-1-find-the-mer-tile-id-that-corresponds-to-a-given-ra-and-dec","implicit":true,"key":"MT0k7TVKfR"},{"type":"paragraph","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"text","value":"In this case, choose the coordinates from the first notebook to save time downloading the MER mosaic. Search a radius of 1.5 arcminutes around these coordinates.","position":{"start":{"line":81,"column":1},"end":{"line":81,"column":1}},"key":"AY00UIa7rN"}],"key":"spWkFlEdil"}],"key":"sfsYs2WTto"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"search_radius = 10 * u.arcsec\ncoord = SkyCoord.from_name('HD 168151')","key":"FLXQsXmALT"},{"type":"outputs","id":"w-rEIEyiEtj1Lrnjha_kn","children":[],"key":"Roec1PPke1"}],"key":"b32K1iKsDt"},{"type":"block","children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"QI98WW08yF"}],"key":"n0UzT5sR8S"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"The IRSA SIA collections can be listed using using the ","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"MD4Y0l3BAn"},{"type":"inlineCode","value":"list_collections","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"wEaBhh1hjx"},{"type":"text","value":" method, we can filter on the ones containing “euclid” in the collection name:","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"cvGR9X48m5"}],"key":"YcVphpQHFw"},{"type":"code","lang":"","value":"Irsa.list_collections(filter='euclid')","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"rEZ09Oe0jK"}],"key":"M3f0B5HjCW"}],"key":"vAWnxGhr62"},{"type":"block","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Use IRSA to search for all Euclid data on this target","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"JFRZ2akj2r"}],"identifier":"use-irsa-to-search-for-all-euclid-data-on-this-target","label":"Use IRSA to search for all Euclid data on this target","html_id":"use-irsa-to-search-for-all-euclid-data-on-this-target","implicit":true,"key":"MkOrSl8E2S"},{"type":"paragraph","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"This searches specifically in the ","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"k8udrg7Gzi"},{"type":"inlineCode","value":"euclid_DpdMerBksMosaic","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"ImxEaN81LI"},{"type":"text","value":" collection which is the MER images and catalogs.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"wT5G6JnVWv"}],"key":"TsycQ5syMa"}],"key":"MGXrJvT6cu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"image_table = Irsa.query_sia(pos=(coord, search_radius), collection='euclid_DpdMerBksMosaic')","key":"f9mYhpN0gL"},{"type":"outputs","id":"Nx0TLQw34Zm24iSm_Fztl","children":[],"key":"NXK3CgT4sX"}],"key":"ToDHzHrer7"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"This table lists all MER mosaic images available in this search position. These mosaics include the Euclid VIS, Y, J, H images, as well as ground-based telescopes which have been put on the same pixel scale. For more information, see the ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"ZOkeLiXjLm"},{"type":"link","url":"https://euclid.caltech.edu/page/euclid-faq-tech/","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Euclid documentation at IPAC","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"xqrPcuxCEb"}],"urlSource":"https://euclid.caltech.edu/page/euclid-faq-tech/","key":"LpdH2odRfQ"},{"type":"text","value":".","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"QJwIdyyu5U"}],"key":"KWRerBMHzo"},{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Note that there are various image types are returned as well, we filter out the ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"sxYQrU4bqr"},{"type":"inlineCode","value":"science","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"BbyihC7HRo"},{"type":"text","value":" images from these:","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"Yz9Q3Lt2OR"}],"key":"t6oSZARK2F"}],"key":"yr5vDCnRcp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"science_images = image_table[image_table['dataproduct_subtype'] == 'science']\nscience_images","key":"Tnzoibr6zw"},{"type":"outputs","id":"jto8R6h5XwzHgbQkE3ElT","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<Table length=9>\n       s_ra              s_dec       ... upload_row_id   dist_to_point  \n       deg                deg        ...                                \n     float64            float64      ...     int64          float64     \n------------------ ----------------- ... ------------- -----------------\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502\n273.74061163858784 64.50001388888538 ...             1 0.154188396506502","content_type":"text/plain"},"text/html":{"content":"<div><i>Table length=9</i>\n<table id=\"table140078520659424\" class=\"table-striped table-bordered table-condensed\">\n<thead><tr><th>s_ra</th><th>s_dec</th><th>facility_name</th><th>instrument_name</th><th>dataproduct_subtype</th><th>calib_level</th><th>dataproduct_type</th><th>energy_bandpassname</th><th>energy_emband</th><th>obs_id</th><th>s_resolution</th><th>em_min</th><th>em_max</th><th>em_res_power</th><th>proposal_title</th><th>access_url</th><th>access_format</th><th>access_estsize</th><th>t_exptime</th><th>s_region</th><th>obs_collection</th><th>obs_intent</th><th>algorithm_name</th><th>facility_keywords</th><th>instrument_keywords</th><th>environment_photometric</th><th>proposal_id</th><th>proposal_pi</th><th>proposal_project</th><th>target_name</th><th>target_type</th><th>target_standard</th><th>target_moving</th><th>target_keywords</th><th>obs_release_date</th><th>s_xel1</th><th>s_xel2</th><th>s_pixel_scale</th><th>position_timedependent</th><th>t_min</th><th>t_max</th><th>t_resolution</th><th>t_xel</th><th>obs_publisher_did</th><th>s_fov</th><th>em_xel</th><th>pol_states</th><th>pol_xel</th><th>cloud_access</th><th>o_ucd</th><th>upload_row_id</th><th>dist_to_point</th></tr></thead>\n<thead><tr><th>deg</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th>m</th><th>m</th><th></th><th></th><th></th><th></th><th>kbyte</th><th>s</th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th>arcsec</th><th></th><th>d</th><th>d</th><th>s</th><th></th><th></th><th>deg</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>\n<thead><tr><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int16</th><th>object</th><th>object</th><th>object</th><th>object</th><th>float64</th><th>float64</th><th>float64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>int64</th><th>float64</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>bool</th><th>bool</th><th>object</th><th>object</th><th>int64</th><th>int64</th><th>float64</th><th>bool</th><th>float64</th><th>float64</th><th>float64</th><th>int64</th><th>object</th><th>float64</th><th>int64</th><th>object</th><th>int64</th><th>object</th><th>object</th><th>int64</th><th>float64</th></tr></thead>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>R</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>5.61762e-07</td><td>7.22025e-07</td><td>4.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/R</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-R_TILE102158277-CA7AB3_20241025T120300.417407Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>G</td><td>Optical</td><td>102158277_WISHES</td><td>1.58</td><td>3.95422e-07</td><td>5.54729e-07</td><td>3.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/G</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-G_TILE102158277-76C6DB_20241025T120401.488065Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>H</td><td>Infrared</td><td>102158277_NISP</td><td>0.1026</td><td>1.372e-06</td><td>2e-06</td><td>2.7</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/H</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-H_TILE102158277-797A7D_20241025T122514.635323Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>VIS</td><td>science</td><td>3</td><td>image</td><td>VIS</td><td>Optical</td><td>102158277_VIS</td><td>0.16</td><td>5.5e-07</td><td>9e-07</td><td>2.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_VIS/VIS</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/VIS/EUC_MER_BGSUB-MOSAIC-VIS_TILE102158277-27C4DD_20241025T124812.358980Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>Y</td><td>Infrared</td><td>102158277_NISP</td><td>0.0878</td><td>9.2e-07</td><td>1.146e-06</td><td>4.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/Y</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-Y_TILE102158277-1FE0D9_20241025T122512.777703Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Subaru Telescope</td><td>Hyper Suprime-Cam</td><td>science</td><td>3</td><td>image</td><td>Z</td><td>Optical</td><td>102158277_WISHES</td><td>1.15</td><td>8.36385e-07</td><td>9.49057e-07</td><td>7.9</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_WISHES/Z</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/HSC/EUC_MER_BGSUB-MOSAIC-WISHES-Z_TILE102158277-E3133D_20241025T120342.580582Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Pan-STARRS</td><td>Pan-STARRS</td><td>science</td><td>3</td><td>image</td><td>I</td><td>Optical</td><td>102158277_PANSTARRS</td><td>1.11</td><td>6.78317e-07</td><td>8.30624e-07</td><td>5.0</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_PANSTARRS/I</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/GPC/EUC_MER_BGSUB-MOSAIC-PANSTARRS-I_TILE102158277-C2B970_20241025T120200.727193Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>CFHT</td><td>MegaCam</td><td>science</td><td>3</td><td>image</td><td>U</td><td>Optical</td><td>102158277_MegaCam</td><td>--</td><td>3.14751e-07</td><td>4.01839e-07</td><td>4.1</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_MegaCam/U</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/MEGACAM/EUC_MER_BGSUB-MOSAIC-CFIS-U_TILE102158277-DB8920_20241025T120138.608462Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n<tr><td>273.74061163858784</td><td>64.50001388888538</td><td>Euclid</td><td>NISP</td><td>science</td><td>3</td><td>image</td><td>J</td><td>Infrared</td><td>102158277_NISP</td><td>0.094</td><td>1.146e-06</td><td>1.372e-06</td><td>5.6</td><td>Euclid on-the-fly</td><td>https://irsa.ipac.caltech.edu/ibe/data/euclid/q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits</td><td>image/fits</td><td>1474566</td><td>--</td><td>POLYGON ICRS 274.366109291086 64.76536207691132 273.11511335805267 64.76536180261205 273.1272020139886 64.23206348982802 274.3540218940251 64.23206375763488 274.366109291086 64.76536207691132</td><td>euclid_DpdMerBksMosaic</td><td>SCIENCE</td><td>mosaic</td><td></td><td></td><td>--</td><td></td><td></td><td></td><td></td><td>field</td><td>--</td><td>False</td><td></td><td>2025-05-01 00:00:00</td><td>19200</td><td>19200</td><td>0.100000000000008</td><td>False</td><td>--</td><td>--</td><td>--</td><td>--</td><td>ivo://irsa.ipac/euclid_DpdMerBksMosaic?102158277_NISP/J</td><td>0.533333333333376</td><td>--</td><td></td><td>--</td><td>{&quot;aws&quot;: {&quot;bucket_name&quot;: &quot;nasa-irsa-euclid-q1&quot;, &quot;key&quot;:&quot;q1/MER/102158277/NISP/EUC_MER_BGSUB-MOSAIC-NIR-J_TILE102158277-DA51EA_20241025T122533.612365Z_00.00.fits&quot;, &quot;region&quot;: &quot;us-east-1&quot;}}</td><td></td><td>1</td><td>0.154188396506502</td></tr>\n</table></div>","content_type":"text/html"}}},"key":"Judc7nrA1g"}],"key":"XCk26Jgpb8"}],"key":"m1urYDVbxZ"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Choose the VIS image and pull the Tile ID","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"b5Zfg08DtG"}],"identifier":"choose-the-vis-image-and-pull-the-tile-id","label":"Choose the VIS image and pull the Tile ID","html_id":"choose-the-vis-image-and-pull-the-tile-id","implicit":true,"key":"LkntvDIXzL"}],"key":"bQdeIFzfzJ"},{"type":"block","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Extract the tile ID from the ","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"zcHKTn2xG6"},{"type":"inlineCode","value":"obs_id","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"TSVqiwrZ13"},{"type":"text","value":" column. The values in this column are made a combination of the 9 digit tile ID and the abbreviation of the instrument.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"IsgD7OdTK1"}],"key":"Dmb8UemayX"}],"key":"Nh3r3afaN7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tileID = science_images[science_images['energy_bandpassname'] == 'VIS']['obs_id'][0][:9]\n\nprint(f'The MER tile ID for this object is : {tileID}')","key":"TVFaHW6aR5"},{"type":"outputs","id":"cWPtnHnmzE5UmsxOKOW7u","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"The MER tile ID for this object is : 102158277\n"},"key":"Yrw8J5zCN5"}],"key":"Y1I3m1GPsp"}],"key":"uov9L7JiRE"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"2. Download SPE catalog from IRSA directly to this notebook","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"Ab2SYId6KK"}],"identifier":"id-2-download-spe-catalog-from-irsa-directly-to-this-notebook","label":"2. Download SPE catalog from IRSA directly to this notebook","html_id":"id-2-download-spe-catalog-from-irsa-directly-to-this-notebook","implicit":true,"key":"abcWlWkKH9"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Search for all tables in IRSA labeled as euclid","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"VJQsNi5kHy"}],"key":"WRCYQi2oAN"}],"key":"q7OdrnIlbl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"Irsa.list_catalogs(filter='euclid')","key":"BtyRmvxDm8"},{"type":"outputs","id":"X8EpQgi_kEqSysxSf4gvY","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"{'euclid_q1_mer_catalogue': 'Euclid Q1 MER Catalog'}","content_type":"text/plain"}}},"key":"LhQt2CVUDa"}],"key":"GBMQaSahGy"}],"key":"tPMRHXhJgE"},{"type":"block","children":[],"key":"D5WyLyRCEI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"table_mer = 'euclid_q1_mer_catalogue'\ntable_galaxy_candidates = 'euclid_q1_spectro_zcatalog_spe_galaxy_candidates'\ntable_1dspectra = 'euclid.objectid_spectrafile_association_q1'\ntable_lines = 'euclid_q1_spe_lines_line_features'","key":"V66agrfbmC"},{"type":"outputs","id":"rzu8Cf4CZuxQAGfA9awI-","children":[],"key":"pFlUaIp0Y5"}],"key":"HO0u5nA9yl"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"text","value":"Learn some information about the table:","position":{"start":{"line":140,"column":1},"end":{"line":140,"column":1}},"key":"Rst54BUfoW"}],"identifier":"learn-some-information-about-the-table","label":"Learn some information about the table:","html_id":"learn-some-information-about-the-table","implicit":true,"key":"SFNwjxzd7O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":141,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How many columns are there?","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"qtjAvhqs82"}],"key":"VQOz9sFDkG"}],"key":"Dj4IM5RGQo"},{"type":"listItem","spread":true,"position":{"start":{"line":142,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"List the column names","position":{"start":{"line":142,"column":1},"end":{"line":142,"column":1}},"key":"KAVaPyaxYn"}],"key":"bINUUOQjQs"}],"key":"vuiVHb5hcu"}],"key":"G2cZt2U5M7"}],"key":"kwV3Pb5wEt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"columns_info = Irsa.list_columns(catalog=table_mer)\nprint(len(columns_info))","key":"XMH8AFoodb"},{"type":"outputs","id":"9umLxMhtVO4-sxsJVSNuS","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"477\n"},"key":"WbaJ2PSsFn"}],"key":"trRhyA2O0F"}],"key":"Tf5TBPY4dx"},{"type":"block","children":[],"key":"bZKikJbtR7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"Irsa.list_columns(catalog=table_1dspectra, full=True)","key":"pwXEZMiKnZ"},{"type":"outputs","id":"sGn_QP5vve2JhaMFX5PJh","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<Table length=7>\ncolumn_index schema_name irsa_schema_name ... xtype  irsa_format irsa_ref\n   int32        object        object      ... object    object    object \n------------ ----------- ---------------- ... ------ ----------- --------\n           1      euclid           euclid ...                20d         \n           2      euclid           euclid ...                20d         \n           3      euclid           euclid ...           151.151s         \n           4      euclid           euclid ...                20d         \n           5      euclid           euclid ...           151.151s         \n           6      euclid           euclid ...             12.12s         \n           7      euclid           euclid ...             12.12s         ","content_type":"text/plain"},"text/html":{"content":"<div><i>Table length=7</i>\n<table id=\"table140078515808896\" class=\"table-striped table-bordered table-condensed\">\n<thead><tr><th>column_index</th><th>schema_name</th><th>irsa_schema_name</th><th>table_name</th><th>column_name</th><th>description</th><th>unit</th><th>ucd</th><th>utype</th><th>datatype</th><th>arraysize</th><th>size</th><th>principal</th><th>indexed</th><th>std</th><th>irsa_label</th><th>xtype</th><th>irsa_format</th><th>irsa_ref</th></tr></thead>\n<thead><tr><th>int32</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>object</th><th>int32</th><th>int32</th><th>int32</th><th>int32</th><th>int32</th><th>object</th><th>object</th><th>object</th><th>object</th></tr></thead>\n<tr><td>1</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>objectid</td><td>Euclid Object ID</td><td></td><td></td><td></td><td>long</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>objectid</td><td></td><td>20d</td><td></td></tr>\n<tr><td>2</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>tileid</td><td>Euclid Tile ID</td><td></td><td></td><td></td><td>long</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>tileid</td><td></td><td>20d</td><td></td></tr>\n<tr><td>3</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>path</td><td>Relative path to combined spectrum file containing spectrum for objectid</td><td></td><td></td><td></td><td>char</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>path</td><td></td><td>151.151s</td><td></td></tr>\n<tr><td>4</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>hdu</td><td>HDU of combined spectrum file containing spectrum for objectid</td><td></td><td></td><td></td><td>long</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>hdu</td><td></td><td>20d</td><td></td></tr>\n<tr><td>5</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>obs_publisher_did</td><td>VO identifier</td><td></td><td></td><td></td><td>char</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>obs_publisher_did</td><td></td><td>151.151s</td><td></td></tr>\n<tr><td>6</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>bandpass_name</td><td>Bandpass name</td><td></td><td></td><td></td><td>char</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>bandpass_name</td><td></td><td>12.12s</td><td></td></tr>\n<tr><td>7</td><td>euclid</td><td>euclid</td><td>euclid.objectid_spectrafile_association_q1</td><td>label</td><td>Label</td><td></td><td></td><td></td><td>char</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>label</td><td></td><td>12.12s</td><td></td></tr>\n</table></div>","content_type":"text/html"}}},"key":"xX8b5DJYNe"}],"key":"GOBf09Hc5l"}],"key":"T5Ocd6FkkG"},{"type":"block","children":[],"key":"vWY1IgO2IO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Full list of columns and their description\ncolumns_info","key":"VUpOXjx7A4"},{"type":"outputs","id":"wL96e8vhTLO5Zn7cqzzJr","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content_type":"text/plain","hash":"e888f6a31339b33e364bc2b9b65855b3","path":"/irsa-tutorials/build/e888f6a31339b33e364bc2b9b65855b3.txt"}}},"key":"tL9gbOxN9r"}],"key":"aJCLr4N2ff"}],"key":"yULHa7DCZ9"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"children":[{"type":"text","value":"Find some objects with spectra in our tileID","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"ZwVQYEliou"}],"identifier":"find-some-objects-with-spectra-in-our-tileid","label":"Find some objects with spectra in our tileID","html_id":"find-some-objects-with-spectra-in-our-tileid","implicit":true,"key":"ALJfZ9PvPb"},{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"text","value":"We specify the following conditions on our search:","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"jNgE5ViUvy"}],"key":"j4IwmV3azB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":161,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signal to noise ratio column (_gf = gaussian fit) should be greater than 5","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"PVA7L05fhm"}],"key":"qk97WLfQa1"}],"key":"moq38oTrH5"},{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We want to detect H-alpha.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"BhtTT8OFfm"}],"key":"ifwjtzAYB6"}],"key":"tACfsYmsBE"},{"type":"listItem","spread":true,"position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We choose in which tileID to search, usign the tileID from the first notebook.","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"Xi2u1syU5e"}],"key":"YWdv0gSet5"}],"key":"EQnN1nEzoV"},{"type":"listItem","spread":true,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Choose spectroscopic redshift (spe_z) between 1.4 and 1.6 and spe_z_prob greater than 0.999","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"DTQWurC506"}],"key":"ZvrEDrD8De"}],"key":"s6SAf58JVc"},{"type":"listItem","spread":true,"position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"H-alpha line flux should be more than 2x10^16 erg s^-1 cm^-2","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"T7Qk9fDoGH"}],"key":"BVBeybWeNm"}],"key":"NnHk2IyIop"},{"type":"listItem","spread":true,"position":{"start":{"line":166,"column":1},"end":{"line":167,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Join the lines and galaxy candidates tables on object_id and spe_rank","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"ddUhbUnCce"}],"key":"UM4LFmltUi"}],"key":"Rs3hzWWU9j"}],"key":"wawmm2zj2M"},{"type":"paragraph","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Finally we sort the data by descending spe_line_snr_gf to have the largest SNR H-alpha lines detected at the top.","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"mjHtgMQ4wL"}],"key":"khMSTvoaco"}],"key":"HdTsInqlDp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"adql_query = (\"SELECT DISTINCT mer.object_id,mer.ra, mer.dec, mer.tileid, mer.flux_y_templfit, \"\n    \"lines.spe_line_snr_gf,lines.spe_line_snr_di, lines.spe_line_name, lines.spe_line_central_wl_gf, \"\n    \"lines.spe_line_ew_gf, galaxy.spe_z_err, galaxy.spe_z,galaxy.spe_z_prob, \"\n    \"lines.spe_line_flux_gf, lines.spe_line_flux_err_gf \"\n    f\"FROM {table_mer} AS mer \"\n    f\"JOIN {table_lines} AS lines \"\n    \"ON mer.object_id = lines.object_id \"\n    f\"JOIN {table_galaxy_candidates} AS galaxy \"\n    \"ON lines.object_id = galaxy.object_id AND lines.spe_rank = galaxy.spe_rank \"\n    \"WHERE lines.spe_line_snr_gf >5 \"\n    \"AND lines.spe_line_name = 'Halpha' \"\n    f\"AND mer.tileid = {tileID} \"\n    \"AND galaxy.spe_z_prob > 0.99 \"\n    \"AND galaxy.spe_z BETWEEN 1.4 AND 1.6 \"\n    \"AND lines.spe_line_flux_gf > 2E-16 \"\n    \"ORDER BY lines.spe_line_snr_gf DESC \")\n\n# Use TAP with this ADQL string\nresult_table = Irsa.query_tap(adql_query).to_table()","key":"chQc1cuq1i"},{"type":"outputs","id":"M8NbQ8Wjy4UGN45KEbsY3","children":[],"key":"NAxqfu3t6x"}],"key":"w1mZ8weHCt"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Choose an object of interest, lets look at an object with a strong Halpha line detected with high SNR.","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"Dcat9B1yTu"}],"identifier":"choose-an-object-of-interest-lets-look-at-an-object-with-a-strong-halpha-line-detected-with-high-snr","label":"Choose an object of interest, lets look at an object with a strong Halpha line detected with high SNR.","html_id":"choose-an-object-of-interest-lets-look-at-an-object-with-a-strong-halpha-line-detected-with-high-snr","implicit":true,"key":"p4HPOeI4Zj"}],"key":"ghwL78HCj5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"obj_id = 2737659721646729968\n\nobj_row = result_table[(result_table['object_id'] == obj_id)]\n\nobj_row","key":"z3AdiRpvIO"},{"type":"outputs","id":"hx4YiIHmxEBbb-l1AnekF","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/plain":{"content":"<Table length=1>\n     object_id           ra      ... spe_line_flux_gf spe_line_flux_err_gf\n                        deg      ...                                      \n       int64          float64    ...     float32            float32       \n------------------- ------------ ... ---------------- --------------------\n2737659721646729968 273.76597217 ...  2.706930158e-16      6.770828671e-17","content_type":"text/plain"},"text/html":{"content":"<div><i>Table length=1</i>\n<table id=\"table140078515879808\" class=\"table-striped table-bordered table-condensed\">\n<thead><tr><th>object_id</th><th>ra</th><th>dec</th><th>tileid</th><th>flux_y_templfit</th><th>spe_line_snr_gf</th><th>spe_line_snr_di</th><th>spe_line_name</th><th>spe_line_central_wl_gf</th><th>spe_line_ew_gf</th><th>spe_z_err</th><th>spe_z</th><th>spe_z_prob</th><th>spe_line_flux_gf</th><th>spe_line_flux_err_gf</th></tr></thead>\n<thead><tr><th></th><th>deg</th><th>deg</th><th></th><th>uJy</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>\n<thead><tr><th>int64</th><th>float64</th><th>float64</th><th>int64</th><th>float32</th><th>float32</th><th>float32</th><th>object</th><th>float32</th><th>float32</th><th>float32</th><th>float32</th><th>float32</th><th>float32</th><th>float32</th></tr></thead>\n<tr><td>2737659721646729968</td><td>273.76597217</td><td>64.67299689</td><td>102158277</td><td>49.94940948</td><td>8.55331707</td><td>6.110000134</td><td>Halpha</td><td>16741.00195</td><td>-24.14109612</td><td>0.0004555544874</td><td>1.553462625</td><td>0.9971491694</td><td>2.706930158e-16</td><td>6.770828671e-17</td></tr>\n</table></div>","content_type":"text/html"}}},"key":"lfGoE6MPXY"}],"key":"VAbp0MeJDG"}],"key":"hKxIYLEXR6"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"text","value":"Pull the spectrum of this object","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"gE90eFO11w"}],"identifier":"pull-the-spectrum-of-this-object","label":"Pull the spectrum of this object","html_id":"pull-the-spectrum-of-this-object","implicit":true,"key":"octEfRAbdZ"}],"key":"B876ILr9y0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"adql_object = f\"SELECT *  FROM {table_1dspectra}  WHERE objectid = {obj_id}\"\n\nresult_table2 = Irsa.query_tap(adql_object).to_qtable()","key":"llLEf8gN76"},{"type":"outputs","id":"IdYl159KVOqzsP4SWUk23","children":[],"key":"k1jmFrB8pE"}],"key":"OU284fsUBw"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"The following steps to read in the spectrum follows the 3_Euclid_intro_1D_spectra notebook.","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"on1EQbE6fu"}],"identifier":"the-following-steps-to-read-in-the-spectrum-follows-the-3-euclid-intro-1d-spectra-notebook","label":"The following steps to read in the spectrum follows the 3_Euclid_intro_1D_spectra notebook.","html_id":"the-following-steps-to-read-in-the-spectrum-follows-the-3-euclid-intro-1d-spectra-notebook","implicit":true,"key":"vkIXMRDuFk"}],"key":"JPVKMPdJo3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spectrum_path = f\"https://irsa.ipac.caltech.edu/{result_table2['path'][0]}\"\nspectrum_path","key":"sV2XwIYbig"},{"type":"outputs","id":"Pjng4geWkaGgEb--y1Bd3","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"'https://irsa.ipac.caltech.edu/api/spectrumdm/convert/euclid/q1/SIR/102158277/EUC_SIR_W-COMBSPEC_102158277_2024-11-05T15:54:09.376202Z.fits?dataset_id=euclid_combspec&hdu=1179'","content_type":"text/plain"}}},"key":"g7xwgQ7a6f"}],"key":"QCRgBqn6PV"}],"key":"Zl3tDGXspK"},{"type":"block","children":[],"key":"aJU1EtOsqy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spectrum = QTable.read(spectrum_path)","key":"ZFEFsKSW9h"},{"type":"outputs","id":"rVDMPVzZpl1oz_lE1xc5v","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"WARNING: UnitsWarning: The unit 'Angstrom' has been deprecated in the VOUnit standard. Suggested: 0.1nm. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'erg' has been deprecated in the VOUnit standard. Suggested: cm**2.g.s**-2. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'Angstrom' has been deprecated in the VOUnit standard. Suggested: 0.1nm. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'erg' has been deprecated in the VOUnit standard. Suggested: cm**2.g.s**-2. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'Angstrom' has been deprecated in the VOUnit standard. Suggested: 0.1nm. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'erg' has been deprecated in the VOUnit standard. Suggested: cm**2.g.s**-2. [astropy.units.format.base]\nWARNING: UnitsWarning: The unit 'Angstrom' has been deprecated in the VOUnit standard. Suggested: 0.1nm. [astropy.units.format.base]\n"},"key":"lCDzS7S30F"}],"key":"uRk2316VUf"}],"key":"PXKVFCjquO"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"children":[{"type":"text","value":"Now the data are read in, plot the spectrum with the H-alpha line labeled","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"pYQSUs5qpi"}],"identifier":"now-the-data-are-read-in-plot-the-spectrum-with-the-h-alpha-line-labeled","label":"Now the data are read in, plot the spectrum with the H-alpha line labeled","html_id":"now-the-data-are-read-in-plot-the-spectrum-with-the-h-alpha-line-labeled","implicit":true,"key":"VUQ8jHSgpC"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"AxaDGUvu8K"}],"key":"P1WJIUkute"},{"type":"paragraph","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"children":[{"type":"text","value":"As we use astropy.visualization’s ","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"BVVqAbVxPF"},{"type":"inlineCode","value":"quantity_support","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"dGFUSZ4yRS"},{"type":"text","value":", matplotlib automatically picks up the axis units from the quantities we plot.","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"X9IJdpodz7"}],"key":"eaKRHhMTc6"}],"key":"ohq0rNQSXs"}],"key":"EWrUT1lNBK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"quantity_support()","key":"CfIM2ZJDIF"},{"type":"outputs","id":"3WylrQY62kexvjrlf6XIE","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"<astropy.visualization.units.quantity_support.<locals>.MplQuantityConverter at 0x7f669234bce0>","content_type":"text/plain"}}},"key":"oKCy7luMUR"}],"key":"niHhlSMOZ1"}],"key":"QfF5FbrcqH"},{"type":"block","children":[],"key":"hMpCYKvk58"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Note that the units are missing from the lines table, we manually add Angstrom\nline_wavelengths = obj_row['spe_line_central_wl_gf'] * u.angstrom\nline_names = obj_row['spe_line_name']\nsnr_gf = obj_row['spe_line_snr_gf']\n\nplt.plot(spectrum['WAVELENGTH'].to(u.micron), spectrum['SIGNAL'])\n\nfor wl, name, snr in zip(np.atleast_1d(line_wavelengths), np.atleast_1d(line_names), np.atleast_1d(snr_gf)):\n    plt.axvline(wl, color='b', linestyle='--', alpha=0.3)\n    plt.text(wl, .2, name+' SNR='+str(round(snr)), rotation=90, ha='center', va='bottom', fontsize=10)\n\nplt.title(f'Object ID {obj_id}')","key":"P16uQagLcU"},{"type":"outputs","id":"vQIZZzIdi5XOqtXf_ZiSH","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"130f909fba6967b4861a883b43df04db","path":"/irsa-tutorials/build/130f909fba6967b4861a883b43df04db.png"}}},"key":"F386CpuQL0"}],"key":"D8Vp9jKk79"}],"key":"KwlNSU68Ss"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"text","value":"About this Notebook","position":{"start":{"line":246,"column":1},"end":{"line":246,"column":1}},"key":"GZ9zdV1JYa"}],"identifier":"about-this-notebook","label":"About this Notebook","html_id":"about-this-notebook","implicit":true,"key":"iPkxRChKuF"},{"type":"paragraph","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"children":[{"type":"strong","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"children":[{"type":"text","value":"Author","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"y2h8bwawIk"}],"key":"xjqNZl75dl"},{"type":"text","value":": Tiffany Meshkat, Anahita Alavi, Anastasia Laity, Andreas Faisst, Brigitta Sipőcz, Dan Masters, Harry Teplitz, Jaladh Singhal, Shoubaneh Hemmati, Vandana Desai, Troy Raen, Jessica Krick","position":{"start":{"line":248,"column":1},"end":{"line":248,"column":1}},"key":"klWLYaqqGl"}],"key":"la3AAdtVtx"},{"type":"paragraph","position":{"start":{"line":250,"column":1},"end":{"line":250,"column":1}},"children":[{"type":"strong","position":{"start":{"line":250,"column":1},"end":{"line":250,"column":1}},"children":[{"type":"text","value":"Updated","position":{"start":{"line":250,"column":1},"end":{"line":250,"column":1}},"key":"RPhiXAMGdO"}],"key":"cpit9Sl41S"},{"type":"text","value":": 2025-12-17","position":{"start":{"line":250,"column":1},"end":{"line":250,"column":1}},"key":"kllf1hbK3x"}],"key":"s4kknCDZSp"},{"type":"paragraph","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"strong","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"text","value":"Contact:","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"BPrqWUhhAv"}],"key":"h7ula9ZGdf"},{"type":"text","value":" ","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"TxZ04dn5yQ"},{"type":"link","url":"https://irsa.ipac.caltech.edu/docs/help_desk.html","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"children":[{"type":"text","value":"the IRSA Helpdesk","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"e4YN8fAIc2"}],"urlSource":"https://irsa.ipac.caltech.edu/docs/help_desk.html","key":"YFHgXJfj02"},{"type":"text","value":" with questions or reporting problems.","position":{"start":{"line":252,"column":1},"end":{"line":252,"column":1}},"key":"Ql5KNyvNaP"}],"key":"UuudVOAMcy"},{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"Runtime:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"aQSb6htDpr"}],"key":"KtODllu9fZ"},{"type":"text","value":" As of the date above, this notebook takes about 90 seconds to run to completion on a machine with 8GB RAM and 4 CPU.","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"IhYDBr74jP"}],"key":"CKOy9vEeZi"}],"key":"Z4FuycBjWg"}],"key":"paWwqmwXmE"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Euclid Q1: PHZ Catalogs","short_title":"PHZ Catalogs","url":"/euclid-intro-phz-catalog","group":"SPHEREx"},"next":{"title":"Euclid Q1 Merged Objects HATS Catalog: Introduction","short_title":"Introduction","url":"/euclid-q1-hats-intro","group":"Merged Objects HATS Catalog"}}},"domain":"http://localhost:3000"}